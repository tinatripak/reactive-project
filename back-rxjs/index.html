<html>
  <head>
    <meta http-equiv= "content-type" content="text/html; charset=UTF-8">
    <script src="https://unpkg.com/d3@3.5.17"></script>
    <script src="https://rawgit.com/crossfilter/crossfilter/1.4.0-alpha.06/crossfilter.js"></script>
    <script src="https://unpkg.com/dc@2.1.3/dc.js"></script>
    <script src="https://unpkg.com/colorbrewer@1.0.0/colorbrewer.js"></script>
    <script src="cf-facade.js"></script>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/dc@2.1.3/dc.min.css">
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/bootstrap@3.3.7/dist/css/bootstrap.min.css">
    <style>
      .center {
        text-align: center
      }

      .charts {
        margin-top: 1em
      }
    </style>
  </head>
  <body>
    <div id="container" class="container">
      <div class="row">
        <div class="col-md-12 center"><h1>Wikimedia Event Stream Demo</h1></div>
      </div>

      <div class="row">
        <div class="col-md-12">
          <p>This is a demo consuming the <a href="https://wikitech.wikimedia.org/wiki/EventStreams">Wikimedia event 
          stream</a>, allowing analysis of recent changes on Wikimedia properties. You can interact with the charts 
          to filter dynamically. Charts are updated with new events as they are provided by the API. Click on the 
          "Clear all filters" link to remove all filters you have applied.</p>
        </div>
      </div>

      <div class="row">
        <div class="col-md-4 col-md-offset-4 col-xs-12 center" id="client-records"></div>
      </div>

      <div class="row">
        <div class="col-md-4 col-md-offset-4 col-xs-12 center">
          <a href="javascript:void(0)" onclick="clearAll()">Clear all filters</a>
        </div>
      </div>

      <div class="row charts">
        <div class="col-md-4 col-xs-12" id="type">Type of event</div>
        <div class="col-md-4 col-xs-12" id="bot">Posted by bot?</div>
        <div class="col-md-4 col-xs-12" id="minor">Major or minor edit?</div>
      </div>
      
      <div class="row charts">
        <div class="col-md-12 col-xs-12" id="timestamp">Edits over time</div>
      </div>

      <div class="row charts">
        <div class="col-md-4 col-xs-12" id="wiki">Wiki of event</div>
        <div class="col-md-4 col-xs-12" id="size">Size of edit</div>
        <div class="col-md-4 col-xs-12" id="arrival">Event arrival delay (seconds)</div>
      </div>
      <!--<div id="user"></div>-->
    </div>
    <script src="dc-vis.js"></script>

    <a href="https://github.com/esjewett/wm-eventsource-demo"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png"></a>
  </body>
</html>